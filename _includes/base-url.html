{% assign base_url = '' %}
{% assign depth = page.url | split: '/' | size | minus:1 %}
{% if    depth == -1 %}{% assign base_url = '.' %}
{% elsif depth == 0 %}{% assign base_url = '.' %}
{% elsif depth == 1 %}{% assign base_url = '..' %}
{% elsif depth == 2 %}{% assign base_url = '..' %}
{% elsif depth == 3 %}{% assign base_url = '../..' %}
{% elsif depth == 4 %}{% assign base_url = '../../..' %}
{% elsif depth == 5 %}{% assign base_url = '../../../..' %}
{% elsif depth == 6 %}{% assign base_url = '../../../../..' %}
{% elsif depth == 7 %}{% assign base_url = '../../../../../..' %}
{% elsif depth == 8 %}{% assign base_url = '../../../../../../..' %}
{% elsif depth == 9 %}{% assign base_url = '../../../../../../../..' %}
{% elsif depth == 10 %}{% assign base_url = '../../../../../../../../..' %}
{% elsif depth == 11 %}{% assign base_url = '../../../../../../../../../..' %}
{% elsif depth == 12 %}{% assign base_url = '../../../../../../../../../../..' %}
{% elsif depth == 13 %}{% assign base_url = '../../../../../../../../../../../..' %}
{% elsif depth == 14 %}{% assign base_url = '../../../../../../../../../../../../..' %}
{% elsif depth == 15 %}{% assign base_url = '../../../../../../../../../../../../../..' %}
{% elsif depth == 16 %}{% assign base_url = '../../../../../../../../../../../../../../..' %}
{% elsif depth == 17 %}{% assign base_url = '../../../../../../../../../../../../../../../..' %}
{% elsif depth == 18 %}{% assign base_url = '../../../../../../../../../../../../../../../../..' %}
{% elsif depth == 19 %}{% assign base_url = '../../../../../../../../../../../../../../../../../..' %}
{% elsif depth == 20 %}{% assign base_url = '../../../../../../../../../../../../../../../../../../..' %}
{% endif %}
<!-- page.url:{{page.url}}  depth:{{depth}} base_url:{{base_url}} -->